{"ast":null,"code":"var _jsxFileName = \"/Users/yungchoyou/Desktop/group_meal_front/secode/group_meal_front/src/Pages/Cell/Cell.js\";\nimport React, { Component } from \"react\";\nimport Nav from \"Components/Nav\";\nimport Tables from \"Components/Tables\";\nimport \"./Cell.scss\";\nimport config from \"config.js\";\n\nclass Cell extends Component {\n  constructor() {\n    super();\n\n    this.fetchCells = async () => {\n      const response = await fetch(\"\".concat(config.url, \"cell\")).then(res => res.json());\n      const cells = response.map(res => {\n        return res.name;\n      });\n      this.setState({\n        cells\n      });\n    };\n\n    this.handleClick = cell => {\n      this.setState({\n        modalOn: true,\n        inputVal: cell\n      });\n    };\n\n    this.handleChange = e => {\n      const val = e.target.value;\n      this.setState({\n        inputVal: val\n      });\n    };\n\n    this.cancelInput = e => {\n      e.target.contains(this.page.current) && this.setState({\n        modalOn: false,\n        inputVal: \"\"\n      });\n    };\n\n    this.cancelModal = () => {\n      this.setState({\n        modalOn: false,\n        inputVal: \"\"\n      });\n    };\n\n    this.getCellId = cellName => {\n      const cells = this.state.cells;\n      let cellId = \"\";\n      cells.forEach(cell => {\n        if (cell.name === cellName) {\n          cellId = cell._id;\n        }\n      });\n      return cellId;\n    };\n\n    this.handleConfirm = async () => {\n      const inputVal = this.state.inputVal;\n      const cellId = this.getCellId(inputVal);\n      console.log(cellId);\n      const response = await fetch(config.url + \"cell/\" + cellId).then(res => res.json());\n    };\n\n    this.state = {\n      cells: [],\n      modalOn: false,\n      inputVal: \"\",\n      selectedCell: \"\"\n    };\n    this.page = React.createRef();\n  }\n\n  componentDidMount() {\n    this.fetchCells();\n  }\n\n  render() {\n    const _this$state = this.state,\n          cells = _this$state.cells,\n          inputVal = _this$state.inputVal,\n          modalOn = _this$state.modalOn;\n    return React.createElement(React.Fragment, null, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"page\",\n      ref: this.page,\n      onClick: this.cancelInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\uC140 \\uAD00\\uB9AC\")), React.createElement(\"div\", {\n      className: \"tools\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleClickTool,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"\\uC140 \\uCD94\\uAC00\")), React.createElement(\"div\", {\n      className: \"tables\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Tables, {\n      onClick: this.handleClick,\n      listData: cells,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }))), modalOn && React.createElement(\"div\", {\n      className: \"smallInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"\\uC140 \\uC774\\uB984\\uC744 \\uBCC0\\uACBD\\uD558\\uC138\\uC694\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      value: inputVal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"tools\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleConfirm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"\\uD655\\uC778\"), React.createElement(\"button\", {\n      onClick: this.cancelModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"\\uCDE8\\uC18C\")))));\n  }\n\n}\n\nexport default Cell;","map":{"version":3,"sources":["/Users/yungchoyou/Desktop/group_meal_front/secode/group_meal_front/src/Pages/Cell/Cell.js"],"names":["React","Component","Nav","Tables","config","Cell","constructor","fetchCells","response","fetch","url","then","res","json","cells","map","name","setState","handleClick","cell","modalOn","inputVal","handleChange","e","val","target","value","cancelInput","contains","page","current","cancelModal","getCellId","cellName","state","cellId","forEach","_id","handleConfirm","console","log","selectedCell","createRef","componentDidMount","render","handleClickTool"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Nav from \"Components/Nav\";\nimport Tables from \"Components/Tables\";\nimport \"./Cell.scss\";\nimport config from \"config.js\";\n\nclass Cell extends Component {\n  constructor() {\n    super();\n    this.state = {\n      cells: [],\n      modalOn: false,\n      inputVal: \"\",\n      selectedCell: \"\"\n    };\n\n    this.page = React.createRef();\n  }\n\n  componentDidMount() {\n    this.fetchCells();\n  }\n\n  fetchCells = async () => {\n    const response = await fetch(`${config.url}cell`).then(res => res.json());\n\n    const cells = response.map(res => {\n      return res.name;\n    });\n\n    this.setState({ cells });\n  };\n\n  handleClick = cell => {\n    this.setState({ modalOn: true, inputVal: cell });\n  };\n\n  handleChange = e => {\n    const val = e.target.value;\n\n    this.setState({ inputVal: val });\n  };\n\n  cancelInput = e => {\n    e.target.contains(this.page.current) &&\n      this.setState({ modalOn: false, inputVal: \"\" });\n  };\n\n  cancelModal = () => {\n    this.setState({ modalOn: false, inputVal: \"\" });\n  };\n\n  getCellId = cellName => {\n    const { cells } = this.state;\n\n    let cellId = \"\";\n\n    cells.forEach(cell => {\n      if (cell.name === cellName) {\n        cellId = cell._id;\n      }\n    });\n\n    return cellId;\n  };\n\n  handleConfirm = async () => {\n    const { inputVal } = this.state;\n    const cellId = this.getCellId(inputVal);\n    console.log(cellId);\n    const response = await fetch(config.url + \"cell/\" + cellId).then(res =>\n      res.json()\n    );\n  };\n\n  render() {\n    const { cells, inputVal, modalOn } = this.state;\n\n    return (\n      <>\n        <Nav />\n        <div className=\"page\" ref={this.page} onClick={this.cancelInput}>\n          <main>\n            <div className=\"title\">\n              <span>셀 관리</span>\n            </div>\n            <div className=\"tools\">\n              <button onClick={this.handleClickTool}>셀 추가</button>\n            </div>\n            <div className=\"tables\">\n              <Tables onClick={this.handleClick} listData={cells} />\n            </div>\n          </main>\n          {modalOn && (\n            <div className=\"smallInput\">\n              <div className=\"title\">셀 이름을 변경하세요</div>\n              <input onChange={this.handleChange} value={inputVal} />\n              <div className=\"tools\">\n                <button onClick={this.handleConfirm}>확인</button>\n                <button onClick={this.cancelModal}>취소</button>\n              </div>\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Cell;\n"]},"metadata":{},"sourceType":"module"}