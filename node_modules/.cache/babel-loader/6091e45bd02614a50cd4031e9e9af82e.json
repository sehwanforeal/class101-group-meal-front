{"ast":null,"code":"var _jsxFileName = \"/Users/yungchoyou/Desktop/group_meal_front/secode/group_meal_front/src/Pages/Roulette/Roulette.js\";\nimport React, { Component } from \"react\";\nimport Title from \"./Title\";\nimport Result from \"./Result\";\nimport Nav from \"Components/Nav\";\nimport PreGroupBox from \"Components/PreGroupBox\";\nimport \"./Roulette.scss\";\nimport { url } from \"config\"; // import roulettemock from \"Data/roulettemock.js\";\n// import roulettemock2 from \"Data/roulettemock2.js\";\n// import roulettegif from \"Img/roulette.gif\";\n\nclass Roulette extends Component {\n  constructor() {\n    super();\n\n    this.runRoulette = () => {\n      this.setState({\n        isLoading: true\n      });\n      fetch(url + \"groupMeal\", {\n        method: \"get\"\n      }).then(function (res) {\n        return res.json();\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          isClicked: true,\n          rouletteMock: res,\n          isLoading: false\n        });\n        console.log(this.state.rouletteMock);\n      });\n    };\n\n    this.sendAndReturn = () => {\n      fetch(\"http://10.0.0.247:3030/groupMeal\", {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          groupMeals: this.state.rouletteMock\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(res => {\n        console.log(\"respons\", res);\n        alert(\"점술판이 반영되었습니다\");\n        this.setState({\n          isClicked: false // historyData: this.state.rouletteMock\n\n        });\n      }); // const {\n      //   isAvailable,\n      //   isOverlapped,\n      //   rouletteMock,\n      //   OverlappedName,\n      //   unAvailableName\n      // } = this.state;\n      // if (isAvailable && !isOverlapped) {\n      //   this.setState({\n      //     isClicked: false,\n      //     previousData: rouletteMock\n      //   });\n      // } else if (isOverlapped) {\n      //   alert(\"(\" + OverlappedName + \")가 중복되었습니다!!\");\n      // } else {\n      //   alert(\"(\" + unAvailableName + \")는 없는 이름입니다!!\");\n      // }\n    };\n\n    this.state = {\n      isClicked: false,\n      rouletteMock: [],\n      // rouletteMockList: roulettemock.groupMeals.flat(),\n      historyData: [],\n      history2: [[2, 3], [4, 5]],\n      isAvailable: true,\n      unAvailableName: \"\",\n      isOverlapped: false,\n      OverlappedName: \"\",\n      isDataCame: false,\n      isLoading: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(url + \"groupMeal/history\", {\n      method: \"get\"\n    }).then(function (res) {\n      return res.json();\n    }).then(res => {\n      this.setState({\n        historyData: res,\n        isDataCame: true,\n        isLoading: false\n      });\n      console.log(this.state.historyData);\n    });\n  }\n\n  // identifierMethod = (e, i, j) => {\n  //   const { rouletteMock, rouletteMockList } = this.state;\n  //   const value = e.target.value;\n  //   const rouletteMockArr = rouletteMock.slice();\n  //   const rl = rouletteMockList.slice();\n  //   rouletteMockArr[i][j] = value;\n  //   this.setState({ rouletteMock: rouletteMockArr });\n  //   rl.indexOf(value) === -1\n  //     ? this.setState({\n  //         isAvailable: false,\n  //         unAvailableName: value\n  //       })\n  //     : this.setState({ isAvailable: true });\n  // };\n  render() {\n    const _this$state = this.state,\n          rouletteMock = _this$state.rouletteMock,\n          isClicked = _this$state.isClicked,\n          historyData = _this$state.historyData,\n          history2 = _this$state.history2,\n          isDataCame = _this$state.isDataCame,\n          isLoading = _this$state.isLoading;\n    return React.createElement(React.Fragment, null, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"roulette-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Result, {\n      isClicked: isClicked,\n      rouletteMock: rouletteMock,\n      onClick: this.sendAndReturn,\n      runRoulette: this.runRoulette,\n      isLoading: isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"history-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: \"현재 점술판\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"rl-groupcontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, isDataCame ? historyData[0].history.map((el, idx) => {\n      return React.createElement(PreGroupBox, {\n        info: el,\n        index: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      });\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"loading\")))));\n  }\n\n}\n\nexport default Roulette;","map":{"version":3,"sources":["/Users/yungchoyou/Desktop/group_meal_front/secode/group_meal_front/src/Pages/Roulette/Roulette.js"],"names":["React","Component","Title","Result","Nav","PreGroupBox","url","Roulette","constructor","runRoulette","setState","isLoading","fetch","method","then","res","json","console","log","isClicked","rouletteMock","state","sendAndReturn","headers","body","JSON","stringify","groupMeals","alert","historyData","history2","isAvailable","unAvailableName","isOverlapped","OverlappedName","isDataCame","componentDidMount","render","history","map","el","idx"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Title from \"./Title\";\nimport Result from \"./Result\";\nimport Nav from \"Components/Nav\";\nimport PreGroupBox from \"Components/PreGroupBox\";\nimport \"./Roulette.scss\";\nimport { url } from \"config\";\n// import roulettemock from \"Data/roulettemock.js\";\n// import roulettemock2 from \"Data/roulettemock2.js\";\n// import roulettegif from \"Img/roulette.gif\";\n\nclass Roulette extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isClicked: false,\n      rouletteMock: [],\n      // rouletteMockList: roulettemock.groupMeals.flat(),\n      historyData: [],\n      history2: [\n        [2, 3],\n        [4, 5]\n      ],\n      isAvailable: true,\n      unAvailableName: \"\",\n      isOverlapped: false,\n      OverlappedName: \"\",\n      isDataCame: false,\n      isLoading: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(url + \"groupMeal/history\", {\n      method: \"get\"\n    })\n      .then(function(res) {\n        return res.json();\n      })\n      .then(res => {\n        this.setState({ historyData: res, isDataCame: true, isLoading: false });\n        console.log(this.state.historyData);\n      });\n  }\n\n  runRoulette = () => {\n    this.setState({ isLoading: true });\n    fetch(url + \"groupMeal\", {\n      method: \"get\"\n    })\n      .then(function(res) {\n        return res.json();\n      })\n      .then(res => {\n        console.log(res);\n        this.setState({ isClicked: true, rouletteMock: res, isLoading: false });\n        console.log(this.state.rouletteMock);\n      });\n  };\n\n  sendAndReturn = () => {\n    fetch(\"http://10.0.0.247:3030/groupMeal\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        groupMeals: this.state.rouletteMock\n      })\n    })\n      .then(function(res) {\n        return res.json();\n      })\n      .then(res => {\n        console.log(\"respons\", res);\n        alert(\"점술판이 반영되었습니다\");\n        this.setState({\n          isClicked: false\n          // historyData: this.state.rouletteMock\n        });\n      });\n\n    // const {\n    //   isAvailable,\n    //   isOverlapped,\n    //   rouletteMock,\n    //   OverlappedName,\n    //   unAvailableName\n    // } = this.state;\n\n    // if (isAvailable && !isOverlapped) {\n    //   this.setState({\n    //     isClicked: false,\n    //     previousData: rouletteMock\n    //   });\n    // } else if (isOverlapped) {\n    //   alert(\"(\" + OverlappedName + \")가 중복되었습니다!!\");\n    // } else {\n    //   alert(\"(\" + unAvailableName + \")는 없는 이름입니다!!\");\n    // }\n  };\n\n  // identifierMethod = (e, i, j) => {\n  //   const { rouletteMock, rouletteMockList } = this.state;\n\n  //   const value = e.target.value;\n  //   const rouletteMockArr = rouletteMock.slice();\n  //   const rl = rouletteMockList.slice();\n\n  //   rouletteMockArr[i][j] = value;\n\n  //   this.setState({ rouletteMock: rouletteMockArr });\n\n  //   rl.indexOf(value) === -1\n  //     ? this.setState({\n  //         isAvailable: false,\n  //         unAvailableName: value\n  //       })\n  //     : this.setState({ isAvailable: true });\n  // };\n\n  render() {\n    const {\n      rouletteMock,\n      isClicked,\n      historyData,\n      history2,\n      isDataCame,\n      isLoading\n    } = this.state;\n\n    return (\n      <>\n        <Nav />\n        <div className=\"roulette-body\">\n          <Result\n            isClicked={isClicked}\n            rouletteMock={rouletteMock}\n            onClick={this.sendAndReturn}\n            runRoulette={this.runRoulette}\n            isLoading={isLoading}\n          />\n          <div className=\"history-container\">\n            <Title title={\"현재 점술판\"} />\n\n            <div className=\"rl-groupcontainer\">\n              {isDataCame ? (\n                historyData[0].history.map((el, idx) => {\n                  return <PreGroupBox info={el} index={idx} />;\n                })\n              ) : (\n                <div>loading</div>\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Roulette;\n"]},"metadata":{},"sourceType":"module"}